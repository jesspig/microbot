# v0.2.0

**发布日期**: 2026-02-24

重大架构重构版本，模块化设计 + 多协议支持。

## 架构重构

- **Monorepo 拆分** - `packages/core` 拆分为 8 个独立包：
  - `@micro-agent/types` - 核心类型定义（MCP 兼容）
  - `@micro-agent/runtime` - 运行时引擎（Container、EventBus、HookSystem、Gateway）
  - `@micro-agent/config` - 三级配置系统
  - `@micro-agent/storage` - 会话存储
  - `@micro-agent/providers` - LLM Provider 抽象
  - `@micro-agent/extension-system` - 扩展发现、加载、热重载
  - `@micro-agent/sdk` - 聚合 SDK
  - `@micro-agent/server` - 服务层
- **配置简化** - 从四级配置简化为三级（user < project < directory）

## 新增功能

### 记忆系统（全新实现）

- **向量存储** - LanceDB 向量数据库，语义检索
- **全文检索** - 中英文混合关键词提取，无嵌入服务时降级
- **自动摘要** - 阈值触发 / 空闲触发，生成结构化摘要
- **记忆注入** - 相关记忆自动注入系统提示词

### 多协议支持

- **MCP 客户端** - Model Context Protocol，外部工具/资源接入
- **ACP 适配器** - Agent Client Protocol，IDE 集成支持
- **A2A 客户端** - Agent-to-Agent，Agent 间通信

### Agent 执行器

- **Function Calling 模式** - 原生工具调用
- **模型路由** - 任务类型识别，智能选择模型（chat/vision/coder）
- **循环检测** - 重复调用 / Ping-Pong / 全局熔断三级检测
- **消息管理** - 历史裁剪 + 工具结果压缩 + Token 估算

### ChannelGateway

- **消息处理枢纽** - 多通道聚合、响应广播、自动重连
- **CLI 通道** - 支持消息广播和会话共享

### 扩展系统

- **热重载** - 文件变更自动重载，防抖 + 优雅关闭
- **defineXxx API** - `defineTool()`、`defineChannel()`、`defineSkill()` 快捷定义
- **skill-creator** - 技能创建脚手架

## 改进

- **Provider 示例** - 添加 DeepSeek（深度推理）、GLM 智谱（国产大模型）、MiniMax（海螺 AI）、Kimi（长上下文）等国产大模型示例
- **reasoning 字段** - 支持深度思考模型的推理过程输出
- **UsageStats** - 新增缓存 Token 统计

## 移除

- **系统级配置** - 简化为三级配置，移除 SYSTEM 层级
