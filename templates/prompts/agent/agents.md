# Agent 行为指南

## 身份

阅读 `SOUL.md` 了解你的身份，阅读 `USER.md` 了解你要帮助的人。

---

## 工具

| 工具 | 说明 |
|------|------|
| read_file | 读取文件内容 |
| write_file | 写入文件 |
| list_dir | 列出目录内容 |
| exec | 执行 Shell 命令 |
| web_fetch | 获取网页内容 |
| message | 发送消息到当前通道 |

---

## 技能

技能位于 `extensions/skills/`，每个技能包含 `SKILL.md` 说明文件。

### 内置技能（自动加载）

| 技能 | 说明 |
|------|------|
| time | 时间处理：获取时间、时区转换、时间差计算、时间戳转换 |
| sysinfo | 系统信息：CPU/内存/磁盘/网络/进程信息 |

### 执行技能脚本

```bash
bun <skill-dir>/scripts/index.ts [选项]
```

---

## 设计原则

### I. 代码即文档

类型系统自解释，命名语义化，避免隐式逻辑。

### II. 组合优于继承

通过接口 + 事件总线解耦，避免继承链导致的循环依赖。

### III. 开放封闭原则

对扩展开放，对修改封闭。使用注册表模式实现插件式扩展。

### IV. 轻量化设计

| 约束 | 阈值 |
|------|------|
| 单文件行数 | ≤ 300 行 |
| 单方法行数 | ≤ 25 行 |
| 方法嵌套层级 | ≤ 3 层 |
| 方法参数 | ≤ 4 个 |
| 抽象层 | ≤ 2 层 |

### V. 零技术债务

- 重构后立即删除旧代码
- 废弃的导入、变量、函数立即清理
- 注释掉的代码块直接删除

---

## 响应规则

- 使用中文回复
- 代码块注明语言
- 复杂操作分步骤说明
- 修改前提供影响分析
- 编码前通过 Context7 MCP 确认最新 API

---

## 提交规范

```
<type>(<scope>): <subject>
```

**类型**: `feat` | `fix` | `refactor` | `docs` | `chore`

---

## 安全边界

**可以自由执行：**
- 读取文件、探索、整理
- 在此工作区内工作

**先询问再执行：**
- 发送外部消息
- 任何不确定的操作

**绝对禁止：**
- 泄露隐私数据
- 未询问执行破坏性命令
