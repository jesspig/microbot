# ─────────────────────────────────────────────────────────────────
# microbot 配置文件
# ─────────────────────────────────────────────────────────────────
#
# 本文件为用户配置模板，首次启动时自动创建
# 请根据下方注释取消注释并填写所需配置
#
# 配置层级（优先级从低到高）：
#   1. 系统级：内置默认配置
#   2. 用户级：~/.microbot/settings.yaml（本文件）
#   3. 项目级：<workspace>/.microbot/settings.yaml
#   4. 目录级：<当前目录>/.microbot/settings.yaml
#
# 环境变量：支持 ${VAR_NAME} 语法
#
# ─────────────────────────────────────────────────────────────────

# =================================================================
# Agent 配置
# =================================================================
agents:
  # 工作区路径（存储会话、记忆、定时任务等数据）
  workspace: ~/.microbot/workspace

  # ─────────────────────────────────────────────────────────────
  # 模型配置（必填）
  # ─────────────────────────────────────────────────────────────
  # models:
  #   # 对话模型，格式：<provider>/<model>
  #   # 示例：ollama/qwen3、deepseek/deepseek-chat、openai/gpt-4o
  #   chat: ollama/qwen3
  #
  #   # 意图识别模型（可选，默认使用 chat）
  #   check: ollama/qwen3

  # ─────────────────────────────────────────────────────────────
  # 生成参数
  # ─────────────────────────────────────────────────────────────
  # maxTokens: 8192         # 最大生成 token 数
  # temperature: 0.7        # 温度（0-2），越低越确定
  # topK: 50                # Top-K 采样
  # topP: 0.7               # Top-P 核采样
  # frequencyPenalty: 0.5   # 频率惩罚（0-2）
  # maxToolIterations: 20   # 工具调用最大迭代次数

  # ─────────────────────────────────────────────────────────────
  # 自动路由
  # ─────────────────────────────────────────────────────────────
  # auto: true   # 启用自动路由（根据任务复杂度选择模型）
  # max: false   # 性能优先模式

# =================================================================
# Provider 配置
# =================================================================
# providers:
#   # ───────────────────────────────────────────────────────────
#   # Ollama（本地，无需 apiKey）
#   # ───────────────────────────────────────────────────────────
#   ollama:
#     baseUrl: http://localhost:11434/v1
#     models:
#       # 简写形式
#       - qwen3
#
#       # 完整形式
#       - id: deepseek-r1
#         level: high      # fast/low/medium/high/ultra
#         vision: false    # 支持图片
#         think: true      # 支持思考链
#         tool: true       # 支持工具调用
#
#   # ───────────────────────────────────────────────────────────
#   # DeepSeek
#   # ───────────────────────────────────────────────────────────
#   deepseek:
#     baseUrl: https://api.deepseek.com/v1
#     apiKey: ${DEEPSEEK_API_KEY}
#     models:
#       - id: deepseek-chat
#         level: medium
#       - id: deepseek-reasoner
#         level: high
#         think: true
#
#   # ───────────────────────────────────────────────────────────
#   # OpenAI
#   # ───────────────────────────────────────────────────────────
#   openai:
#     baseUrl: https://api.openai.com/v1
#     apiKey: ${OPENAI_API_KEY}
#     models:
#       - id: gpt-4o-mini
#         level: fast
#       - id: gpt-4o
#         level: medium
#         vision: true
#
#   # ───────────────────────────────────────────────────────────
#   # 自定义 OpenAI 兼容 API
#   # ───────────────────────────────────────────────────────────
#   custom:
#     baseUrl: https://api.example.com/v1
#     apiKey: ${CUSTOM_API_KEY}
#     models:
#       - my-model

# =================================================================
# Channel 配置
# =================================================================
# channels:
#   # ───────────────────────────────────────────────────────────
#   # 飞书
#   # ───────────────────────────────────────────────────────────
#   feishu:
#     enabled: true
#     appId: your-app-id
#     appSecret: your-app-secret
#     # 消息来源白名单（为空则接收所有）
#     allowFrom:
#       - ou_xxxx           # open_id
#       - user@example.com  # email

# =================================================================
# Routing 配置（可选）
# =================================================================
# routing:
#   enabled: true
#   rules:
#     - keywords: [架构, 重构]
#       level: ultra
#       priority: 10
#     - keywords: [调试, 修复, bug]
#       level: high
#       priority: 7
#     - keywords: [你好, hello]
#       level: fast
#       priority: 2